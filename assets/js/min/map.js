abs1=[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,1,1,1,3,3,3,3,3,3,3,3,3,1,1,1,3,3,3,3,3,3],abs2=[4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,16,3,3,3,3,3,3,3,4,4,0,0,4,0,0,0,0,0,0,0,15,15,16,16,15,0,0,0,0,0,0,0,4,4,0,14,3,0,0,0,0,0,0,15,16,16,16,15,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,15,15,16,16,15,15,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,15,15,16,16,15,15,0,0,0,0,0,0,0,4,4,0,0,8,0,0,0,8,8,5,15,15,16,16,15,5,0,0,0,0,0,5,0,4,4,0,0,0,0,0,8,8,0,0,15,15,16,16,15,0,0,0,0,0,0,0,0,4,4,0,0,0,8,8,8,8,8,0,15,16,16,15,15,0,0,0,0,0,0,0,0,4,4,0,0,0,8,8,8,8,0,15,15,16,16,15,0,0,0,0,0,0,0,0,0,4,4,0,0,0,8,8,8,8,8,15,15,16,16,15,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,15,16,16,16,15,15,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,15,15,16,16,16,16,15,15,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,15,15,16,16,16,16,15,15,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,15,15,16,16,16,16,16,15,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,0,0,0,0,0,4,4,0,0,5,0,0,0,0,0,5,0,0,15,15,15,5,0,0,0,0,0,5,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,0,5,4,4,4,4,4,4,0,0,4,4,0,5,4,4,4,4,4,4,4,4,4,4,0,0,3,3,3,3,3,3,3,4,4,4,0,0,3,3,3,3,3,3,3];var map={cols:24,rows:24,tsize:64,layers:[abs1,abs2],getTile:function(t,i,s){return this.layers[t][s*map.cols+i]},isLoseWinLife:function(t,i){var s=Math.floor(t/this.tsize),e=Math.floor(i/this.tsize);return this.layers.reduce(function(t,i,r){var o=this.getTile(r,s,e);if(14==o)return"life";Hero.SPEED=15==o?80:256;return t||(8===o||9===o)}.bind(this),!1)},isSolidTileAtXY:function(t,i){var s=Math.floor(t/this.tsize),e=Math.floor(i/this.tsize);return this.layers.reduce(function(t,i,r){var o=this.getTile(r,s,e),n=3===o||5===o||16===o||17===o;if(builds[s+"-"+e]&&builds[s+"-"+e].solid)n=1;return t||n}.bind(this),!1)},isEnnemyTileAtXY:function(t,i){var s=Math.floor(t/this.tsize),e=Math.floor(i/this.tsize),r=0;return monsters[s+"-"+e]&&(r=monsters[s+"-"+e]),r},isHeroTileAtXY:function(t,i){return[Math.floor(t/this.tsize),Math.floor(i/this.tsize)]},getCol:function(t){return Math.floor(t/this.tsize)},getRow:function(t){return Math.floor(t/this.tsize)},getX:function(t){return t*this.tsize},getY:function(t){return t*this.tsize}};