allArtefacts['epee_bleu'] = {
	'name'		 	 : 'epee_bleu',
	'attaque'		 : 1,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['epee_blanc'] = {
	'name'		 	 : 'epee_blanc',
	'attaque'		 : 2,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['epee_rouge'] = {
	'name'		 	 : 'epee_rouge',
	'attaque'		 : 3,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['bouclier_bleu'] = {
	'name'		 	 : 'bouclier_bleu',
	'attaque'		 : 0,
	'defense'		 : 1,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['bouclier_blanc'] = {
	'name'		 	 : 'bouclier_blanc',
	'attaque'		 : 0,
	'defense'		 : 2,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['bouclier_rouge'] = {
	'name'		 	 : 'bouclier_rouge',
	'attaque'		 : 0,
	'defense'		 : 3,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['lunette_bleu'] = {
	'name'		 	 : 'lunette_bleu',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 1,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['lunette_blanc'] = {
	'name'		 	 : 'lunette_blanc',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 2,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['lunette_rouge'] = {
	'name'		 	 : 'lunette_rouge',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 3,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['xp_bleu'] = {
	'name'		 	 : 'xp_bleu',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 10,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['xp_blanc'] = {
	'name'		 	 : 'xp_blanc',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 20,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['xp_rouge'] = {
	'name'		 	 : 'xp_rouge',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 30,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['aile_bleu'] = {
	'name'		 	 : 'aile_bleu',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 1,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['aile_blanc'] = {
	'name'		 	 : 'aile_blanc',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 2,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['aile_rouge'] = {
	'name'		 	 : 'aile_rouge',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 3,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['epee_lumiere'] = {
	'name'		 	 : 'epee_lumiere',
	'attaque'		 : 50,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : {'heure': 2, 'jour': 0},
	'inventaire'	 : 1,
	'description_fr' : "Donne un bonus\n offensif important\n pour une durée\n très limitée",
	'description_en' : "EN Donne un bonus\n offensif important\n pour une durée\n très limitée",
}
allArtefacts['bouclier_lumiere'] = {
	'name'		 	 : 'bouclier_lumiere',
	'attaque'		 : 0,
	'defense'		 : 50,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : {'heure': 2, 'jour': 0},
	'inventaire'	 : 1,
	'description_fr' : "Donne un bonus\n défensif important\n pour une durée\n très limitée",
	'description_en' : "EN Donne un bonus\n défensif important\n pour une durée\n très limitée",
}
allArtefacts['bombe'] = {
	'name'		 	 : 'bombe',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 1,
	'description_fr' : "Bombe puissante\n à utiliser avec\n précaution",
	'description_en' : "EN Bombe puissante\n à utiliser avec\n précaution"
}
allArtefacts['botte_sable'] = {
	'name'		 	 : 'botte_sable',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 1,
	'description_fr' : "Bottes pour\n marcher dans le sable",
	'description_en' : "EN Bottes pour marcher dans le sable"
}
allArtefacts['corde'] = {
	'name'		 	 : 'corde',	
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 1,
	'quete'			 : 1,
	'description_fr' : "Corde pour\n fabriquer des outils",
	'description_en' : "EN Corde pour fabriquer des outils"
}
allArtefacts['cle'] = {
	'name'		 	 : 'cle',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 1,
	'quete'			 : 1,
	'description_fr' : "Clef",
	'description_en' : "Key",
}
allArtefacts['manche'] = {
	'name'		 	 : 'manche',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',
	'inventaire'	 : 1,
	'quete'			 : 1,
	'description_fr' : "Manche pour\n fabriquer des outils",
	'description_en' : "EN Manche pour fabriquer des outils",
}
allArtefacts['silex'] = {
	'name'		 	 : 'silex',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',	//pour la durée des artefacts utilisés
	'inventaire'	 : 1,	//Pour les artefacts qu'on garde dans l'inventaire
	'quete'			 : 1,	//Pour les artefacts qui ne sont pas utilisables
	'description_fr' : "Silex pour\n fabriquer des outils",
	'description_en' : "EN Silex pour fabriquer des outils",
}
allArtefacts['pelle_artefact'] = {
	'name'		 	 : 'pelle_artefact',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',	//pour la durée des artefacts utilisés
	'inventaire'	 : 0,	//Pour les artefacts qu'on garde dans l'inventaire
	'outils' : 'pelle',
}
allArtefacts['pioche_artefact'] = {
	'name'		 	 : 'pioche_artefact',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',	//pour la durée des artefacts utilisés
	'inventaire'	 : 0,	//Pour les artefacts qu'on garde dans l'inventaire
	'outils'		 : 'pioche',
}
allArtefacts['epee_artefact'] = {
	'name'		 	 : 'epee_artefact',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',	//pour la durée des artefacts utilisés
	'inventaire'	 : 0,	//Pour les artefacts qu'on garde dans l'inventaire
	'outils' : 'epee',
}
allArtefacts['faux_artefact'] = {
	'name'		 	 : 'faux_artefact',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : '',
	'duree'			 : '',	//pour la durée des artefacts utilisés
	'inventaire'	 : 0,	//Pour les artefacts qu'on garde dans l'inventaire
	'outils' 		 : 'faux',
}
allArtefacts['bois'] = {
	'name'		 	 : 'bois',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : {'bois': 5},
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['culture_ble'] = {
	'name'		 	 : 'culture_ble',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : {'ble': 5},
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['culture_raisin'] = {
	'name'		 	 : 'culture_raisin',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : {'vigne': 5},
	'duree'			 : '',
	'inventaire'	 : 0
}
allArtefacts['viande'] = {
	'name'		 	 : 'viande',
	'attaque'		 : 0,
	'defense'		 : 0,
	'agilite'		 : 0,
	'xp'	 		 : 0,
	'exploration'	 : 0,
	'supply'		 : {'viande': 5},
	'duree'			 : '',
	'inventaire'	 : 0
}

function Artefact(map, x, y, row, col, attaque, defense, agilite, xp, exploration, supply, duree, inventaire, image1, quete, outils) {
	this.map = map;
    this.xp = xp;
    this.attaque = attaque;
    this.defense = defense;
    this.agilite = agilite;
    this.x = x;
    this.y = y;	
    this.row = row;
    this.col = col;
    this.exploration = exploration;
    this.supply = supply;//todo
    this.duree = duree;
    this.image = image1;
    this.inventaire = inventaire;
    this.name = image1;
    this.heure = 0;
    this.jour = 0;
    this.quete = 1;
    this.outils = outils;
}

function generateArtefact(map, x, y, row, col, name){
	
	var nameArtefact = 'artefacts'+row+'-'+col;
	this.nameArtefact = new Artefact(map, x, y, row, col, allArtefacts[name].attaque, 
														allArtefacts[name].defense, 
														allArtefacts[name].agilite, 
														allArtefacts[name].xp, 
														allArtefacts[name].exploration, 
														allArtefacts[name].supply, 
														allArtefacts[name].duree, 
														allArtefacts[name].inventaire, 
														name,
														allArtefacts[name].quete,
														allArtefacts[name].outils);
	
	artefacts[row+'-'+col] = this.nameArtefact;
}

Hero.prototype.bombe = function () {	// utiliser la bombe
	anim = new animation(map, this.x-map.tsize/2, this.y, 'cloud');
	
	var maxX = this.map.cols * this.map.tsize;
    var maxY = this.map.rows * this.map.tsize;
    this.x = Math.max(0, Math.min(this.x, maxX));
    this.y = Math.max(0, Math.min(this.y, maxY));
	
	var rowX = this.map.getRow(this.x);
	var colY = this.map.getCol(this.y);
	abs1[colY*map.rows+rowX+1] = 67;	//tuile lunaire
	abs1[colY*map.rows+rowX-1] = 67;	//tuile lunaire
	abs1[colY*map.rows+rowX+map.rows] = 67;	//tuile lunaire
	abs1[colY*map.rows+rowX-map.rows] = 67;	//tuile lunaire
	//retirer 50 points de vie à tous les monstres et batiments qui se trouvent sur ces cases
	if(builds[rowX+'-'+(colY+1)]){
		builds[rowX+'-'+(colY+1)].life-=50;
		if(builds[rowX+'-'+(colY+1)].life <= 0){
			delete builds[rowX+'-'+(colY+1)];
			abs2[colY*map.rows+rowX+map.rows] = 0;
		}
	}
	if(builds[rowX+'-'+(colY-1)]){
		builds[rowX+'-'+(colY-1)].life-=50;
		if(builds[rowX+'-'+(colY-1)].life <= 0){
			delete builds[rowX+'-'+(colY-1)];
			abs2[colY*map.rows+rowX-map.rows] = 0;
		}
	}
	if(builds[(rowX+1)+'-'+colY]){
		builds[(rowX+1)+'-'+colY].life-=50;
		if(builds[(rowX+1)+'-'+colY].life <= 0){
			delete builds[(rowX+1)+'-'+colY];
			abs2[colY*map.rows+rowX+1] = 0;
		}
	}
	if(builds[(rowX-1)+'-'+colY]){
		builds[(rowX-1)+'-'+colY].life-=50;
		if(builds[(rowX-1)+'-'+colY].life <= 0){
			delete builds[(rowX-1)+'-'+colY];
			abs2[colY*map.rows+rowX-1] = 0;
		}
	}
	
	if(monsters[rowX+'-'+(colY+1)]){
		monsters[rowX+'-'+(colY+1)].life-=50;
		if(monsters[rowX+'-'+(colY+1)].life <= 0){
			delete monsters[rowX+'-'+(colY+1)];
		}
	}
	if(monsters[rowX+'-'+(colY-1)]){
		monsters[rowX+'-'+(colY-1)].life-=50;
		if(monsters[rowX+'-'+(colY-1)].life <= 0){
			delete monsters[rowX+'-'+(colY-1)];
		}
	}
	if(monsters[(rowX+1)+'-'+colY]){
		monsters[(rowX+1)+'-'+colY].life-=50;
		if(monsters[(rowX+1)+'-'+colY].life <= 0){
			delete monsters[(rowX+1)+'-'+colY];
		}
	}
	if(monsters[(rowX-1)+'-'+colY]){
		monsters[(rowX-1)+'-'+colY].life-=50;
		if(monsters[(rowX-1)+'-'+colY].life <= 0){
			delete monsters[(rowX-1)+'-'+colY];
		}
	}
}
Hero.prototype.artEnCours = function (artefact) {	// utiliser les artefacts du répertoire
	Game.hero.attaque+=		 artefact.attaque;
	Game.hero.defense+=		 artefact.defense;
	Game.hero.agilite+=		 artefact.agilite;
	Game.hero.exploration+=  artefact.exploration;
}